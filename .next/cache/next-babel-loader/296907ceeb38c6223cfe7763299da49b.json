{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\User\\\\Desktop\\\\msg.gg-frontend\\\\pages\\\\profile.js\";\nimport React from \"react\";\nvar __jsx = React.createElement;\nimport Header from \"../compornents/Header/header\";\nimport Head from \"next/head\";\nimport Link from \"next/link\";\nimport { useEffect, useState } from \"react\";\nimport { useRouter } from \"next/router\";\nimport axios from \"axios\";\nimport cheerio from \"cheerio\";\n\nconst Profile = () => {\n  const {\n    0: state,\n    1: setNum\n  } = useState(0);\n  let character = {};\n  const router = useRouter();\n\n  async function getHTML() {\n    try {\n      return await axios.get(`https://maple.gg/u/${router.query.username}`);\n    } catch (error) {\n      console.error(error);\n    }\n  }\n\n  useEffect(() => {\n    if (!router.query.username) return;\n    getHTML().then(html => {\n      const $ = cheerio.load(html.data);\n\n      if (html.data.length < 30000) {\n        router.push(\"/\");\n        return;\n      }\n\n      ;\n      let profile = {};\n      profile.name = $(\"div#user-profile\").find(\"b.align-middle\")[0].children[0].data;\n      profile.image = $(\"div.character-avatar-row\").find(\"img\")[0].attribs.src;\n      profile.world = $(\"img.align-middle\")[0].attribs.src;\n      profile.level = $(\"div#user-profile\").find(\"ul.user-summary-list\")[0].children[1].children[0].data;\n      profile.work = $(\"div#user-profile\").find(\"ul.user-summary-list\")[0].children[3].children[0].data;\n      profile.popularity = $(\"div#user-profile\").find(\"ul.user-summary-list\")[0].children[5].children[2].children[0].data;\n      profile.guild = $(\"div.user-additional\").find(\"a\")[0] == undefined ? \"(없음)\" : $(\"div.user-additional\").find(\"a\")[0].children[0].data;\n      profile.totalRank = $(\"div.user-additional\").find(\"div.col-6\")[0].children[3].children[0].data.replace(/(\\s*)/g, \"\");\n      profile.worldRank = $(\"div.user-additional\").find(\"div.col-6\")[1].children[4].children[0].data;\n      profile.workTotalRank = $(\"div.user-additional\").find(\"div.col-6\")[2].children[4].children[0].data;\n      profile.workWorldRank = $(\"div.user-additional\").find(\"div.col-6\")[3].children[4].children[0].data;\n      let coord = {};\n      coord.head = $(\"div.character-coord__item\").find(\"span.character-coord__item-name\")[0].children[0].data;\n      coord.hair = $(\"div.character-coord__item\").find(\"span.character-coord__item-name\")[1].children[0].data;\n      coord.face = $(\"div.character-coord__item\").find(\"span.character-coord__item-name\")[2].children[0].data;\n      coord.top = $(\"div.character-coord__item\").find(\"span.character-coord__item-name\")[3].children[0].data;\n      coord.bottom = $(\"div.character-coord__item\").find(\"span.character-coord__item-name\")[4].children[0].data;\n      coord.shoes = $(\"div.character-coord__item\").find(\"span.character-coord__item-name\")[5].children[0].data;\n      coord.weapon = $(\"div.character-coord__item\").find(\"span.character-coord__item-name\")[6].children[0].data;\n      profile.coord = coord;\n      return profile;\n    }).then(res => {\n      character = res;\n      document.querySelector(\"#__next\").style.backgroundImage = `url(../images/profile/background/${character.work}.png)`;\n      let imgArea = document.querySelector(\".profile__img\");\n      let image = new Image();\n      image.src = `${character.image}`;\n      imgArea.appendChild(image);\n      let status = document.querySelector(\".profile__status\");\n      status.innerHTML = '';\n      console.log(character);\n      let state = document.createElement(\"div\");\n      state.innerHTML = `\n                            <div class=\"profile__text pt-3 flex-column text-white\">\n                                <p><span class=\"pr-2\">${character.name}</span>Lv.230</p>\n                                <div class=\"d-flex\">\n                                    <img class=\"mt-1 mr-2\" src=\"${character.world}\" alt=\"\"/> \n                                    <p>크로아 | ${character.work} | 인기도 ${character.popularity}</p>\n                                </div>\n                                <p>길드 <span class=\"pl-2\">${character.guild}</span></p>\n                            </div>`;\n      status.appendChild(state);\n      let analysis = document.querySelector(\".profile__analysis\");\n      let img = new Image();\n      img.src = `${character.image}`;\n      analysis.appendChild(img); // let html = document.createElement(\"div\");\n      // html = `\n      // `\n    });\n  });\n  return __jsx(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 104,\n      columnNumber: 9\n    }\n  }, __jsx(Head, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 105,\n      columnNumber: 13\n    }\n  }, __jsx(\"title\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 106,\n      columnNumber: 17\n    }\n  }, \"msg.gg\"), __jsx(\"link\", {\n    rel: \"stylesheet\",\n    href: \"/style/header.css\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 107,\n      columnNumber: 17\n    }\n  }), __jsx(\"link\", {\n    rel: \"stylesheet\",\n    href: \"/style/profile.css\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 108,\n      columnNumber: 17\n    }\n  }), __jsx(\"link\", {\n    href: \"https://fonts.googleapis.com/css2?family=Noto+Sans+KR:wght@300;400;700&display=swap\",\n    rel: \"stylesheet\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 109,\n      columnNumber: 17\n    }\n  })), __jsx(Header, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 114,\n      columnNumber: 13\n    }\n  }), __jsx(\"div\", {\n    className: \"wrap\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 115,\n      columnNumber: 13\n    }\n  }, __jsx(\"div\", {\n    className: \"back__btn pointer\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 116,\n      columnNumber: 17\n    }\n  }), __jsx(\"ul\", {\n    className: \"profile__sidebar\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 117,\n      columnNumber: 17\n    }\n  }, __jsx(\"li\", {\n    className: \"profile__sidebar__el profile__sidebar__el__active  profile__sidebar__information pointer\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 118,\n      columnNumber: 21\n    }\n  }), __jsx(\"li\", {\n    className: \"profile__sidebar__el  profile__sidebar__record pointer\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 119,\n      columnNumber: 21\n    }\n  })), __jsx(\"div\", {\n    className: \"profile__main\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 121,\n      columnNumber: 17\n    }\n  }, __jsx(\"div\", {\n    className: \"profile flex-center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 122,\n      columnNumber: 21\n    }\n  }, __jsx(\"div\", {\n    className: \"profile__img\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 123,\n      columnNumber: 25\n    }\n  }), __jsx(\"div\", {\n    className: \"profile__status pt-5 pl-4\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 126,\n      columnNumber: 25\n    }\n  })), __jsx(\"div\", {\n    className: \"profile-button pt-4 flex-center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 129,\n      columnNumber: 21\n    }\n  }, __jsx(\"button\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 130,\n      columnNumber: 25\n    }\n  }, \"\\uC990\\uACA8\\uCC3E\\uAE30\"), __jsx(\"button\", {\n    className: \"ml-3\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 131,\n      columnNumber: 25\n    }\n  }, \"\\uD504\\uB85C\\uD544 \\uC0AC\\uC9C4\")), __jsx(\"div\", {\n    className: \"profile__analysis flex-center mt-5\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 133,\n      columnNumber: 21\n    }\n  })), __jsx(\"div\", {\n    className: \"profile__recode\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 136,\n      columnNumber: 17\n    }\n  })));\n};\n\nexport default Profile;","map":{"version":3,"sources":["C:/Users/User/Desktop/msg.gg-frontend/pages/profile.js"],"names":["Header","Head","Link","useEffect","useState","useRouter","axios","cheerio","Profile","state","setNum","character","router","getHTML","get","query","username","error","console","then","html","$","load","data","length","push","profile","name","find","children","image","attribs","src","world","level","work","popularity","guild","undefined","totalRank","replace","worldRank","workTotalRank","workWorldRank","coord","head","hair","face","top","bottom","shoes","weapon","res","document","querySelector","style","backgroundImage","imgArea","Image","appendChild","status","innerHTML","log","createElement","analysis","img"],"mappings":"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","sourcesContent":["import Header from \"../compornents/Header/header\";\r\nimport Head from \"next/head\";\r\nimport Link from \"next/link\";\r\nimport { useEffect, useState } from \"react\";\r\nimport { useRouter } from \"next/router\";\r\nimport axios from \"axios\";\r\nimport cheerio from \"cheerio\";\r\n\r\nconst Profile = () => {\r\n    const [state, setNum] = useState(0);\r\n\r\n    let character = {};\r\n\r\n    const router = useRouter();\r\n    \r\n    async function getHTML() {\r\n        try {\r\n            return await axios.get(`https://maple.gg/u/${router.query.username}`);\r\n        } catch (error) {\r\n            console.error(error);\r\n        }\r\n    }\r\n\r\n    useEffect(() => {\r\n        if(!router.query.username) return;\r\n\r\n        getHTML()\r\n            .then((html) => {\r\n                const $ = cheerio.load(html.data);\r\n                \r\n                if(html.data.length < 30000) {\r\n                    router.push(\"/\");\r\n                    return;\r\n                };\r\n                \r\n                let profile = {} \r\n                \r\n                profile.name = $(\"div#user-profile\").find(\"b.align-middle\")[0].children[0].data;\r\n                profile.image = $(\"div.character-avatar-row\").find(\"img\")[0].attribs.src;\r\n                profile.world = $(\"img.align-middle\")[0].attribs.src;\r\n                profile.level = $(\"div#user-profile\").find(\"ul.user-summary-list\")[0].children[1].children[0].data;\r\n                profile.work = $(\"div#user-profile\").find(\"ul.user-summary-list\")[0].children[3].children[0].data\r\n                profile.popularity = $(\"div#user-profile\").find(\"ul.user-summary-list\")[0].children[5].children[2].children[0].data;\r\n                profile.guild = $(\"div.user-additional\").find(\"a\")[0] == undefined ? \"(없음)\" : $(\"div.user-additional\").find(\"a\")[0].children[0].data;\r\n\r\n                profile.totalRank = $(\"div.user-additional\").find(\"div.col-6\")[0].children[3].children[0].data.replace(/(\\s*)/g, \"\");\r\n                profile.worldRank = $(\"div.user-additional\").find(\"div.col-6\")[1].children[4].children[0].data;\r\n                profile.workTotalRank = $(\"div.user-additional\").find(\"div.col-6\")[2].children[4].children[0].data;\r\n                profile.workWorldRank = $(\"div.user-additional\").find(\"div.col-6\")[3].children[4].children[0].data;\r\n                \r\n                let coord = {};\r\n                coord.head = $(\"div.character-coord__item\").find(\"span.character-coord__item-name\")[0].children[0].data;\r\n                coord.hair = $(\"div.character-coord__item\").find(\"span.character-coord__item-name\")[1].children[0].data;\r\n                coord.face = $(\"div.character-coord__item\").find(\"span.character-coord__item-name\")[2].children[0].data;\r\n                coord.top = $(\"div.character-coord__item\").find(\"span.character-coord__item-name\")[3].children[0].data;\r\n                coord.bottom = $(\"div.character-coord__item\").find(\"span.character-coord__item-name\")[4].children[0].data;\r\n                coord.shoes = $(\"div.character-coord__item\").find(\"span.character-coord__item-name\")[5].children[0].data;\r\n                coord.weapon = $(\"div.character-coord__item\").find(\"span.character-coord__item-name\")[6].children[0].data;\r\n\r\n                profile.coord = coord;\r\n\r\n                return profile;\r\n            })\r\n            .then((res) => {\r\n                character = res;\r\n                document.querySelector(\"#__next\").style.backgroundImage = `url(../images/profile/background/${character.work}.png)`\r\n\r\n                let imgArea = document.querySelector(\".profile__img\");\r\n\r\n                let image = new Image();\r\n                image.src = `${character.image}`;\r\n                imgArea.appendChild(image)\r\n\r\n                let status = document.querySelector(\".profile__status\");\r\n                status.innerHTML = '';\r\n                console.log(character)\r\n                let state = document.createElement(\"div\");\r\n                state.innerHTML = `\r\n                            <div class=\"profile__text pt-3 flex-column text-white\">\r\n                                <p><span class=\"pr-2\">${character.name}</span>Lv.230</p>\r\n                                <div class=\"d-flex\">\r\n                                    <img class=\"mt-1 mr-2\" src=\"${character.world}\" alt=\"\"/> \r\n                                    <p>크로아 | ${character.work} | 인기도 ${character.popularity}</p>\r\n                                </div>\r\n                                <p>길드 <span class=\"pl-2\">${character.guild}</span></p>\r\n                            </div>`;\r\n\r\n                status.appendChild(state);\r\n\r\n                let analysis = document.querySelector(\".profile__analysis\");\r\n                let img = new Image();\r\n                img.src = `${character.image}`;\r\n                analysis.appendChild(img)\r\n\r\n                // let html = document.createElement(\"div\");\r\n                // html = `\r\n\r\n                // `\r\n            });\r\n\r\n    });\r\n\r\n    return (\r\n        <div>\r\n            <Head>\r\n                <title>msg.gg</title>\r\n                <link rel=\"stylesheet\" href=\"/style/header.css\" />\r\n                <link rel=\"stylesheet\" href=\"/style/profile.css\"/>\r\n                <link\r\n                    href=\"https://fonts.googleapis.com/css2?family=Noto+Sans+KR:wght@300;400;700&display=swap\"\r\n                    rel=\"stylesheet\"\r\n                ></link>\r\n            </Head>\r\n            <Header></Header>\r\n            <div className=\"wrap\">\r\n                <div className=\"back__btn pointer\"></div>\r\n                <ul className=\"profile__sidebar\">\r\n                    <li className=\"profile__sidebar__el profile__sidebar__el__active  profile__sidebar__information pointer\"></li>\r\n                    <li className=\"profile__sidebar__el  profile__sidebar__record pointer\"></li>\r\n                </ul>\r\n                <div className=\"profile__main\">\r\n                    <div className=\"profile flex-center\">\r\n                        <div className=\"profile__img\">\r\n\r\n                        </div>\r\n                        <div className=\"profile__status pt-5 pl-4\">\r\n                        </div>\r\n                    </div>\r\n                    <div className=\"profile-button pt-4 flex-center\">\r\n                        <button>즐겨찾기</button>\r\n                        <button className=\"ml-3\">프로필 사진</button>\r\n                    </div>\r\n                    <div className=\"profile__analysis flex-center mt-5\">\r\n                    </div>\r\n                </div>\r\n                <div className=\"profile__recode\">\r\n                    \r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n\r\n};\r\n\r\nexport default Profile;\r\n"]},"metadata":{},"sourceType":"module"}